"use strict";(self["webpackChunkblogs"]=self["webpackChunkblogs"]||[]).push([[253],{2253:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var o=s(3396),l=s(9242);const i=e=>((0,o.dD)("data-v-5dd6be2b"),e=e(),(0,o.Cn)(),e),a={id:"game-board"},r=i((()=>(0,o._)("div",{id:"player"},null,-1))),h=i((()=>(0,o._)("div",{id:"score"},"Score: 0",-1)));function n(e,t,s,i,n,m){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",a,[r,(0,o.wy)((0,o._)("div",{class:"Start-Game",onClick:t[0]||(t[0]=e=>m.startGame())},"开始游戏",512),[[l.F8,n.Start_Game_btn_flag]]),h])])}s(7658);var m={data(){return{gameBoard:null,player:null,scoreElement:null,bullets:[],enemies:[],score:0,Start_Game_btn_flag:!0}},mounted(){this.gameBoard=document.getElementById("game-board"),this.player=document.getElementById("player"),this.scoreElement=document.getElementById("score"),document.addEventListener("keydown",(e=>{"ArrowLeft"===e.code?this.movePlayer("left"):"ArrowRight"===e.code?this.movePlayer("right"):"Space"===e.code&&this.shoot()}))},methods:{movePlayer(e){let t=parseInt(this.player.style.left)||0;"left"===e?t-=20:"right"===e&&(t+=20),t=Math.max(0,Math.min(t,this.gameBoard.offsetWidth-this.player.offsetWidth)),this.player.style.left=t+"px"},shoot(){let e=document.createElement("div");e.className="bullet-xxx",e.style.left=parseInt(this.player.style.left)+this.player.offsetWidth/2-2.5+"px",e.style.bottom=this.player.offsetHeight+"px",this.gameBoard.appendChild(e),this.bullets.push(e)},moveBullets(){this.bullets.forEach(((e,t)=>{let s=parseInt(e.style.bottom)||0;s+=10,s>=this.gameBoard.offsetHeight?(e.remove(),this.bullets.splice(t,1)):e.style.bottom=s+"px"}))},createEnemy(){let e=document.createElement("div");e.className="enemy-xxx",e.style.left=Math.random()*(this.gameBoard.offsetWidth-40)+"px",e.style.top="0px",this.gameBoard.appendChild(e),this.enemies.push(e),console.log(e,e.className)},moveEnemies(){this.enemies.forEach(((e,t)=>{let s=parseInt(e.style.top)||0;s+=5,s>=this.gameBoard.offsetHeight?(e.remove(),this.enemies.splice(t,1)):e.style.top=s+"px"}))},detectCollision(){this.bullets.forEach(((e,t)=>{this.enemies.forEach(((s,o)=>{e.offsetTop<=s.offsetTop+s.offsetHeight&&e.offsetTop+e.offsetHeight>=s.offsetTop&&e.offsetLeft<=s.offsetLeft+s.offsetWidth&&e.offsetLeft+e.offsetWidth>=s.offsetLeft&&(e.remove(),this.bullets.splice(t,1),s.remove(),this.enemies.splice(o,1),this.score+=10,this.scoreElement.innerHTML="Score: "+this.score)}))}))},gameLoop(){this.moveBullets(),this.moveEnemies(),this.detectCollision()},startGame(){this.Start_Game_btn_flag=!1,this.score=0,this.scoreElement.innerHTML="Score: "+this.score,this.player.style.left=(this.gameBoard.offsetWidth-this.player.offsetWidth)/2+"px",this.bullets.forEach((e=>e.remove())),this.bullets=[],this.enemies.forEach((e=>e.remove())),this.enemies=[],setInterval(this.createEnemy,1e3),setInterval(this.gameLoop,30)}}},f=s(89);const d=(0,f.Z)(m,[["render",n],["__scopeId","data-v-5dd6be2b"]]);var c=d}}]);
//# sourceMappingURL=253.238be6b1.js.map